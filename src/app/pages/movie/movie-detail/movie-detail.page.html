<ion-header [translucent]="true"></ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense" style="position: relative;">
    <ion-icon name="arrow-back" class="backBtn" (click)="goBackHomePage()"></ion-icon>

    <img alt="" [src]="movie.stillUrl" style="width: 430px; height:550px; object-fit: cover;">
    <div class="detailsImage">
      <a class="movieTitle">{{movie.title}}</a><br>
      <a class="rate_star"> ★</a><a class="rate_num">{{movie.favorite}}</a><br>
      <a class="detailIn">{{movie.title}}<br>
        {{ movie.releasedAt || '개봉일 미정' }} · {{ movie.genre }} · {{ movie.nation }} <br>
        {{ movie.runningTime }}분 · {{ movie.ratedYn ? '15세 이상 관람가' : '연령 제한 없음' }} <br> <br>
        상영 회사: {{ movie.company }}<br>
        {{ movie.favorite }}위
      </a>
    </div>
    <!-- 컬렉션 우측 위의 좋아요 아이콘 제거 -->
  </ion-header>

  <ion-grid [fixed]="true">
    <ion-row class="detail-row">
      <ion-col class="detail-col-want" (click)="toggleLike()">
        <ion-icon
          [name]="isLiked ? 'heart' : 'heart-outline'"
          [style.color]="isLiked ? 'red' : '#ededed'"
          style="font-size: 40px;">
        </ion-icon>
        <div class="text">좋아요</div>
      </ion-col>
      <ion-col class="detail-col">
        <ion-icon (click)="goToCommentWritePage()" name="create-outline"></ion-icon>
        <div class="text">코멘트 작성</div>
      </ion-col>

      <ion-col class="detail-col" (click)="navigateToCollectionAdd()">

        <ion-icon name="bookmark-outline"></ion-icon>
        <div class="text" (click)="goToAddCollectionPage()">컬렉션에 추가</div>
      </ion-col>
    </ion-row>
  </ion-grid>


  <!-- Movie Summary -->
  <a class="summ">줄거리</a>
  <a class="summary">{{movie.contents}}</a>
  <img class="poster" alt="" [src]="movie.posterUrl">


  <!-- Cast and Crew Section -->
  <ion-label class="personTitle">출연/제작</ion-label>
  <ion-item class="person" lines="none">
    <ion-avatar aria-hidden="true" slot="start">
      <img class="unknowImage" src="https://upload.wikimedia.org/wikipedia/commons/e/ee/Unknown-person.gif" alt="">
    </ion-avatar>
    <ion-label>
      <h3>감독</h3>
      <p>{{movie.directorName}}</p>
    </ion-label>
  </ion-item>

  <ion-item class="person" lines="none">
    <ion-avatar aria-hidden="true" slot="start">
      <img class="unknowImage" src="https://upload.wikimedia.org/wikipedia/commons/e/ee/Unknown-person.gif" alt="">
    </ion-avatar>
    <ion-label>
      <h3>주연</h3>
      <p>{{movie.actor}}</p>
    </ion-label>
  </ion-item>

  <!-- Comment Section -->
  <div class="comment-container">
    <ion-label class="commentTitle">코멘트</ion-label>
    <span class="commentCount">50+</span>
    <span class="moreComment" (click)="goToCommentListPage()">더보기</span>
  </div>

  <ion-card>
    <ion-list>
      <ion-item>
        <div class="comment_profile">
          <ion-avatar slot="start">
            <img alt="프로필 사진" src="https://ionicframework.com/docs/img/demos/avatar.svg"/>
          </ion-avatar>
          <ion-label>메타몽</ion-label>
        </div>
      </ion-item>

      <!-- 영화 이미지와 코멘트 -->
      <ion-item lines="none">
        <ion-label>
          <h2 class="comment-베테랑2">베테랑2</h2>
          <p class="comment">
            서울의 봄 GV 때 류승완 감독님이 직접 밝히신 공식 정보 세가지.<br><br>
            1. 올 겨울 개봉. 영화 배경이 겨울이라서 그렇답니다. 12월 확정인듯... 었으나, 추석으로 앞당겨짐.<br>
            2. 관객들 기대와는 달리 좀 분위기가 어두워졌답니다. 2편 악역이 연쇄살인범이라는데, 그래서인듯.<br>
            3. 정해인이 아주 멋지게 나온답니다....ㅋㅋㅋ 디피의 안준호 이병 텐션 생각하면 기대되네요.<br>
            4. 전 편처럼 통쾌한 스타일로 달려가는 작품은 아니다, 그렇다고 유머가 없는 건 아니다.(전주국제영화제의 죽거나 혹은 나쁘거나 gv 때 밝힌 정보)<br><br>

            더 문 이후로 역대 한국영화 두 번째로 돌비시네마 공식 지원(Atmos, Vision).
          </p>
        </ion-label>
      </ion-item>
      <!-- 좋아요 및 댓글 버튼 -->
      <ion-item class="good_and_comment">
        <ion-button fill="clear" class="text-button">
          <ion-icon name="thumbs-up"></ion-icon> 1,004
        </ion-button>
        <ion-button fill="clear" class="text-button">
          <ion-icon name="thumbs-down"></ion-icon> 127
        </ion-button>
      </ion-item>
      <ion-item lines="none">
        <ion-button fill="clear" class="text-button"><ion-icon name="heart-outline"></ion-icon></ion-button>
        <ion-button fill="clear" class="text-button"><ion-icon name="chatbox-outline"></ion-icon></ion-button>
      </ion-item>
    </ion-list>
  </ion-card>
</ion-content>
